<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: FetchApi.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: FetchApi.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * This class contains the methods responsible of the communication between
 * the client and the server via the API
 *
 * @class FetchApi
 */
export default class FetchApi {
  /**
    * This constructor creates an object of the Fetch Api class
    *
    * @throws {NoEndpointError}
    *
    * @throws {NoAxiosError}
    *
    * @constructor
    * @param {object} axios - The HTTP client (must be Axios or its derivative)
    * @param {string} endpoint - The Fetch API endpoint
    *
    * @example new FetchApi({...axios}, "https://www.example.com/v1")
    */
  constructor(axios, endpoint) {
    if (!axios) {
      throw new Error('NoAxiosError! Please provide Axios.');
    } else if (!endpoint) {
      throw new Error('NoEndpointError! Please provide an endpoint.');
    } else {
      this.axios = axios;
      this.endpoint = endpoint;
    }
  }

  // Posts
  /**
     * This function returns a promise of all the posts
     * @function
     *
     * @returns {Promise&lt;Array&lt;Object>>}
     *
     * @example getPosts()
     */
  getPosts() { return this.axios.get(`${this.endpoint}/posts`); }

  /**
     * This function returns a promise of the post having the specified ID
     * @function
     *
     * @param {Object} params Params
     * @param {String} params.id The post id
     *
     * @returns {Promise&lt;Object>}
     *
     * @example getPostById({ id: 123 })
     */
  getPostById(params) {
    const { id } = params || {};
    if (!id) {
      return Promise.reject(new Error('MissingIdError! You must pass an ID.'));
    }

    return this.axios.get(`${this.endpoint}/posts/${id}`);
  }

  // Users
  /**
     * This function returns a promise of all the users
     * @function
     *
     * @returns {Promise&lt;Array&lt;Object>>}
     *
     * @example getUsers()
     */
  getUsers() {
    return this.axios.get(`${this.endpoint}/users`);
  }

  /**
     * This function returns a promise of the user having the specified ID
     * @function
     *
     * @param {Object} params Params
     * @param {String} params.id The user id
     *
     * @returns {Promise&lt;Object>}
     *
     * @example getUserById({ id: 123 })
     */
  getUserById(params) {
    const { id } = params || {};
    if (!id) {
      return Promise.reject(new Error('MissingIdError! You must pass an ID.'));
    }

    return this.axios.get(`${this.endpoint}/users/${id}`);
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FetchApi.html">FetchApi</a></li><li><a href="module.exports_module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#getPostById">getPostById</a></li><li><a href="global.html#getPosts">getPosts</a></li><li><a href="global.html#getUserById">getUserById</a></li><li><a href="global.html#getUsers">getUsers</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Fri Aug 02 2019 21:33:58 GMT+0100 (West Africa Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
